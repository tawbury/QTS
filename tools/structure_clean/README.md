# Structure Tree Reporter & Cleanup Tool

## 개요

이 도구는 **프로젝트 디스크 상의 실제 폴더·파일 구조를 사실 그대로 기록**하고, 구조 인식에 불필요한 노이즈를 제거하여 **아키텍처 문서가 현실과 괴리되지 않도록 유지하는 개발 보조 도구**입니다.

단순한 정리를 넘어, **사용자가 직접 검수하고 결정할 수 있는 안전한 워크플로우**를 제공합니다.

---

## 핵심 철학

* **사실 기반**: 디스크에 존재하는 구조가 곧 유일한 사실이다.
* **안전 우선**: 모든 삭제 전에는 반드시 전체 백업(ZIP)이 선행된다.
* **사용자 제어**: 자동 삭제는 없으며, 오직 사용자의 명시적 선택으로만 실행된다.
* **가독성**: 당연한 캐시 파일은 요약하고, 의외의 요소만 부각하여 사용자의 검수를 돕는다.

---

## 주요 기능 (Implementation)

1. **전체 구조 스캔 및 필터링**
* 프로젝트 루트 기준 전체 스캔.
* VCS(`.git`), IDE(`.idea`), 가상환경(`.venv`) 등 핵심 노이즈 자동 제외.


2. **지능형 삭제 후보 출력**
* `__pycache__`, `.pyc` 등 당연한 캐시 파일은 개수만 요약 표시.
* 그 외 예상치 못한 삭제 후보는 별도 목록으로 노출하여 사용자의 오판 방지.


3. **원클릭 전체 백업**
* 삭제 실행 전, 해당 시점의 모든 후보군을 `reports/cleanup_backup.zip`으로 즉시 압축 저장.


4. **명시적 삭제 실행**
* 백업 성공 확인 후, 사용자의 최종 승인 시에만 디스크에서 물리적 삭제 수행.


5. **구조 트리 리포트 자동화**
* 정리 후의 깨끗한 구조를 `tree_report.txt` 및 타임스탬프 이력 파일로 저장.



---

## 작동 프로세스

1. **[1] Scan**: 전체 프로젝트 구조 파악
2. **[2] Detect**: 삭제 대상 분류 (캐시 요약 vs 기타 상세)
3. **[3] Backup**: `y` 선택 시 `cleanup_backup.zip` 생성
4. **[4] Clean**: `y` 선택 시 물리적 삭제 실행
5. **[5] Report**: 최종 구조 리포트 생성

---

## 출력 파일 상세

| 파일 / 폴더 | 설명 |
| --- | --- |
| `reports/tree_report.txt` | 최신 구조 기준 파일 (항상 최신 상태 유지) |
| `reports/tree_YYMMDD_HHMMSS.txt` | 구조 변경 이력 로그 (버전 관리용) |
| `reports/cleanup_backup.zip` | 삭제된 파일들의 최종 백업본 (복구용) |

---

## 사용 권장 시점

* **ChatGPT 협업 전**: 현재 구조를 정확히 인식시켜 환각(Hallucination) 방지.
* **리팩토링 전/후**: 폴더 이동 및 파일 삭제 후의 구조적 변화 검증.
* **코드 배포 전**: 불필요한 컴파일 캐시를 정리하여 프로젝트 경량화.

---

## 상태

* **스펙 버전**: v1.1.0 (실제 삭제 및 백업 기능 포함)
* **구현 상태**: **완료 (Functional)**
* **특이 사항**: `.venv` 내부 파일은 스캔 및 삭제 대상에서 절대 제외되도록 안전장치 강화됨.

---

## 한 문장 요약

> 이 도구는 단순한 정리 도구가 아니라,
> 정확한 아키텍처 판단을 가능하게 하는 "프로젝트의 블랙박스이자 조수"입니다.

---
